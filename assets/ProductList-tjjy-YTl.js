import{r as n,u as h,j as e,b as p,L as m}from"./index-BTRByLdz.js";import{u as x}from"./useFetch-DPocR8jA.js";function j({product:s}){const[r,c]=n.useState(!1),o=h();function a(i){i.preventDefault(),i.stopPropagation(),o(p(s)),c(!0)}return e.jsxs("div",{className:"product-item",children:[e.jsx("img",{src:s.thumbnail,alt:s.title}),e.jsx("h3",{children:s.title}),e.jsxs("p",{children:["Price: $",s.price]}),e.jsx("button",{onClick:a,disabled:r,className:`button ${r?"clicked":""}`,children:r?"Added To Cart":"Add To Cart"})]})}function C(){const[s,r]=n.useState(""),[c,o]=n.useState(""),{data:a,error:i,loading:d}=x("https://dummyjson.com/products"),u=a?[...new Set(a.products.map(t=>t.category))]:[],l=a?a.products.filter(t=>t.title.toLowerCase().includes(s.toLowerCase())&&(c===""||t.category===c)):[];return d?e.jsx("p",{className:"loading",children:"Loading products..."}):i?e.jsxs("p",{className:"error",children:["Error loading products: ",i]}):e.jsxs("div",{className:"product-list-container",children:[e.jsxs("div",{className:"filter-container",children:[e.jsxs("select",{className:"category-dropdown",value:c,onChange:t=>o(t.target.value),children:[e.jsx("option",{value:"",children:"All Categories"}),u.map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsx("input",{type:"text",placeholder:"Search Products...",className:"search-input",value:s,onChange:t=>r(t.target.value)})]}),e.jsx("div",{className:"product-list",children:l.length>0?l.map(t=>e.jsx(m,{to:`/product/${t.id}`,children:e.jsx(j,{product:t},t.id)},t.id)):e.jsx("center",{children:e.jsx("p",{className:"noproduct",children:"No products found"})})})]})}export{C as default};
